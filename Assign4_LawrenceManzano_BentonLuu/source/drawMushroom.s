.globl  drawLifeMushroom
drawLifeMushroom:
        push    {r0-r9, lr}	
        mov	r4,	r0			//Start X position of your picture
        mov     r9,     r0
	mov	r5,	r1
	ldr	r6,	=extraLife		//Address of the picture
	mov	r7,	r2			//Width of your picture
	mov	r8,	r3			//Height of your pictureure
	
        
drawPictureLoop:
	mov	r0,	r4			//passing x for ro which is used by the Draw pixel function
	mov	r1,	r5			//passing y for r1 which is used by the Draw pixel formula

	ldrh	r2,	[r6],#2			//setting pixel color by loading it from the data section. We load hald word
	bl	DrawPixel
	add	r4,	#1			//increment x position
	cmp	r4,	r7			//compare with image with
	blt	drawPictureLoop
	mov	r4,	r9			//reset x
	add	r5,	#1			//increment Y
	cmp	r5,	r8			//compare y with image height
	blt	drawPictureLoop
	pop     {r0-r9, lr}
debug:	bx 	lr			//return

.globl  clearPrevMRPos
clearPrevMRPos:
        push    {r0-r9, lr}

        ldr     r4, =mushroom_xPos
        ldr     r5, [r4]
        ldr     r6, [r4, #4]

        mov     r0, r5
        mov     r2, r6
        mov     r3, #704
        sub     r1, r3, #42
        bl      drawBlue  

        pop     {r0-r9, lr}
        bx      lr

.globl checkMushroomHit_fall
checkMushroomHit_fall:
        push    {r0-r9, lr}
        ldr     r4, =mushroomOnScreen
        ldr     r5, [r4]
        cmp     r5, #0
        beq     doneCheckMushroomHit_fall

        ldr     r4, =marioY
        ldr     r5, [r4, #4]
        mov     r6, #704
        sub     r6, #42
        cmp     r5, r6
        blt     doneCheckMushroomHit_fall

        ldr     r9, =marioX
        ldr     r4, [r9]
        ldr     r5, [r9, #4]
        
        ldr     r9, =mushroom_xPos
        ldr     r6, [r9]
        ldr     r7, [r9, #4]
        
        cmp     r5, r6
        movge   r8, #1
        movlt   r8, #0

        cmp     r4, r7
        movle   r9, #1
        movgt   r9, #0

        tst     r8, r9
        beq     doneCheckMushroomHit_fall

        bl      clearPrevMRPos
        
        ldr     r8, =mushroomOnScreen
        mov     r9, #0
        str     r9, [r8]

        bl      updateLives

doneCheckMushroomHit_fall:
        pop     {r0-r9, lr}
        bx      lr


.section        .data
extraLife:
.ascii "?l_t\36l?t\37l?t?l_l_t\236t^t_t\375k\16""2B\0c\10C\0#\10C\0D\20"
.ascii "\3\20d\10D\10\3\10B\0B\0b\0\203\0P""2\37l_t\177t\177|_t?l?l"
.ascii "\37t\37t?t?l?l?l?t_t\37l_t?t?t_t\375c\233[\271[\231[z[\366JI\31"
.ascii "\0\0B\10\344 e1\2\1\341\0\241\10\341\0\342\0\3\31\4!\304 "
.ascii "b\30!\0j)8[\233c\227Sy[\333[>l_l\37t\37t?t?l?l?l\37l?l\37l\37l"
.ascii "\37l?l\177|z[2B\16""2\3561\2561k)\203\20 \10f9-s\221\214I+"
.ascii "\6\33\345\22\344\2\346\32jKP\204\216s\2069\0\0c\20\2541\3561"
.ascii "\354)\3569sB\232[?l?l?l_l_l?l?l\377k_t_t_l?l^t~\204\267J\345\30"
.ascii " \0 \0!\0\1\0\0\0@\10jR\371\315\235\347\220U\12%\11\35\11\25"
.ascii "mEs\206\234\337\232\306-c`\10\0\0\1\0\2\0\1\0\203\20k)\27S"
.ascii "_t\177t>l?l\37l?l?l\37t?l?l\37l\376c\232cV[\2561\201\10\0\0"
.ascii "\1\31\6:HBhB\352R\323\214\233\346\376\3670^\252%\251\35\211\25"
.ascii "\355E\24\217\377\367^\347\25\245\312R':\7B\10J\303(\0\0\245\20"
.ascii "\16""2\26S\233[\376k\37|\37|?l?l>t\37l?t_t\335k\224J\213)"
.ascii "\204\10\"\10!\20\253Z\24\255\266\275\226\265\266\265\232\316"
.ascii "~\377\376\367\20^j%I\35)\25\215E\223\206\277\377^\377\233\336"
.ascii "\267\275T\255\327\275\367\305\212Z\1\10b\20\244\30J!\225B\376k"
.ascii "\177t]l?t?t?l_t\177|~|\271k\16:\203\10 \0\0\0b\10\217{\333\346"
.ascii "\236\377\237\377\277\377\336\377\377\377\335\337\21^*%"
.ascii "\11\35J\35\256E\224\206\377\367\376\377\376\377\337\377\236\367"
.ascii "\377\377\377\367\316s\0\0\0\0\0\0c\10P:\32l\276t\336t?t?t"
.ascii "?l?l\232[\223B\254)\346\20\0\0\201\10d\22\307*s\215\376\357\377\367"
.ascii "\377\367\377\367\234\347\30\267S\216\254=i%i%\211\35k-"
.ascii "\317]U\2067\257\232\327\376\367\377\377\337\377\377\377S\235"
.ascii "D\12\303\11\201\0\1\0\306\20\2551uJ\134k?t?t\36t>l\27S\1\0@\0"
.ascii "\0\0\1\10%\22\351\34\15""6\365\216\234\347\377\377\377\377"
.ascii "\336\357\331\256\315M\10\15I\25*-J%J\35J%\11\35\7\15\214=\25\227"
.ascii "\335\347\377\377\377\377\377\377\365\226k%\10\34\203\11\0\0"
.ascii "\0\0 \0\243\0\326J\376k?t\177t?l\367JC\10\0\0\201\20\304 "
.ascii "\307\32\310$k-\263~\232\327\274\347\335\347\233\327\266\246\355E"
.ascii ")\25I\25J-j%j\35j%I\35)\35\255M\263\216\233\337\336\357\235\347"
.ascii "\274\347\223~I\25(\34e\"\4\31b\20@\0\204\0\266J\376k?t"
.ascii "\237t?lX[C\10\343\20\311R\263\234\17e*-\11\35\356Mrvr~\223~"
.ascii "\222v\17V\213-(\15(\15\11\35)\35(\25\10\25(\25)\15\2135\255M"
.ascii "R\206\224\2163~\223\206\356E\7\15\13""50u\322\224\213Z\302\30"
.ascii "D\0\27[_l\177t\177t\373k\25S\2\0\2061\261\224\377\377\232\277"
.ascii "\356E+%J\35J\35)\25J\35I\35j\35K-k%k%K%K-J%J%k%*\35k%)\35*%"
.ascii "J\35\11\25*\35J\25k51v\272\317\376\367\223\234E)#\0\324R\374c"
.ascii ">t\25K\222B\254)\1\0F)\221\224\277\377\334\327\366\216sv\17N"
.ascii "\213%j\35J%*-\315E1f\264\206\264\206\223~\223~\264\206\223~"
.ascii "\264\206s~rn\356MI\35h\25i\25I\35\316Ms\206\327\246\375\347"
.ascii "\276\367R\224\2061\1\0\253)1:\263B\254!\10!\204\10\0\0F""1P\214"
.ascii "~\377\376\357\134\337Z\327\223\206\2145J\35\11\35\12-\357U"
.ascii "\327\256{\327{\337z\317[\327{\327{\327{\327\233\337\27\2571v"
.ascii "\12%\10\15i\35J%r~\273\337\276\347\377\377}\3571\214e)\0\0\204\0"
.ascii "\306\20H!\347\20\1\0\0\0\240\20IJ\262\224\177\377\377\377"
.ascii "\337\377\336\377\265\236\2145J%K-\357Msv\234\327\377\377\377\377"
.ascii "\377\377\377\377\377\377\377\377\377\377\377\377\233\327"
.ascii "\226\236\216M*%)\35J\35\325\226\377\377\377\377\377\377\235\367"
.ascii "\263\234\10B\201\10\0\0\0\0b\10'\31\0\10$!.|5\245\231\326"
.ascii "\237\377\377\377\377\367\376\367\224\226\2545\254=0n\26\237"
.ascii "9\307\335\327\377\377\337\377\377\377\377\377\377\377\377\377"
.ascii "\377\377\377\377\336\357[\317\365\2260fk-+\35\225\226\377\377"
.ascii "\377\377\377\377\376\367z\316\24\245LkE)\0\0\202\20\307\20"
.ascii "A\0\3479:\316}\367\235\367\337\367\377\377\377\377\335\367\224\226"
.ascii "\255=\256E\226\246\336\367\336\347\377\377\377\377\377\377"
.ascii "\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
.ascii "\276\367\235\347\264\216\2125\12%\366\206\377\377\377\377\377\377"
.ascii "\377\377\236\357=\347\327\275\10B \0\202\20\307 A\10HB"
.ascii "\374\346\377\377\377\377\337\377\377\377\337\377\336\367\224\226"
.ascii "\2555\17N\30\267\377\377\377\377\377\377\377\377\377\377"
.ascii "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
.ascii "\377\377\366\246\2535*%\325\216\377\367\377\377\377\377\377\377"
.ascii "\377\377\377\377\373\336\312Z \0\202\20\247  \10(B]\347"
.ascii "\377\377\377\377\377\377\377\377\337\377\377\377\225\226l5"
.ascii "\356M\27\267\336\377\377\377\377\377\377\377\377\377\377\377"
.ascii "\377\377\377\377\377\377\377\377\377\377\377\367\377\377\377\377"
.ascii "\367\246\213-\12%\224\226\377\377\377\377\377\377\337\377"
.ascii "\336\377\377\377\332\336HJ@\0\243\20\347\20A\0(B]\347\377\367"
.ascii "\337\377\377\377\377\377\337\377\376\357\264\226\2145\356M"
.ascii "8\267\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
.ascii "\377\377\377\377\377\377\337\377\377\377\377\377\377\377\326\236"
.ascii "k%J-\224\226\377\377\337\377\377\377\377\377\377\377\377\377"
.ascii "\333\336IR \0\202\20\10\11a\10(J=\347\377\377\377\377\377\377"
.ascii "\276\347\233\317X\257qn\2545\316M\30\267\377\377\277\377"
.ascii "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
.ascii "\337\377\377\377\377\377\377\377\367\246\214-j%0ny\307"
.ascii "{\327\337\377\377\377\377\377\377\377\273\326JJ \0\202\20\347\20"
.ascii "A\20\10R\34\347\377\377\376\377\377\377\371\276\317Ul=)%"
.ascii "I\35\316M8\267\377\377\377\377\377\377\377\377\377\377\377\377"
.ascii "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
.ascii "\367\256\214=)\25K%l52v:\307\376\377\377\377\377\377\373\336"
.ascii "\213J \0\202\20\347\30A\10\6:\270\266\333\317y\307z\307"
.ascii "t\206J%\10\25\10\15I\25\315E\264\226z\317\273\327\336\367\377\377"
.ascii "\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
.ascii "\376\367\334\347z\307s\206\213=I\35)\15(\15\316E\325\216z\277"
.ascii "\232\307\232\307V\256H2 \0\202\20\7\31@\0\303\31\362m\323v"
.ascii "\360mr~\316M\213-j%i\35j\35l5\256UR~\25\227\235\347\337\367"
.ascii "\377\377\377\377\377\377\377\377\377\377\337\377\377\377\234\347"
.ascii "\367\256sv\256E)-j-J\35\211%\2145\317URf1f\20n/m\344\31 \0"
.ascii "\202\20\7\21!\10\202\1J%\3135K5\252\35K-\212\35\212%\252-\211\35"
.ascii "\212\35\253%\315=\322v\134\337\377\367\377\377\377\377"
.ascii "\337\377\377\377\377\377\377\377\377\377\334\337\25\227\2135"
.ascii "\312%\252\35\212\35\213-\253%\213-\212\35\213%K5\213-\312\34"
.ascii "\242\21\0\0\243\20\346\30\0\10b\1)\35\252%*%\212\35\251\34\307\23"
.ascii "\247\23\206\33\206\23\246\23e\13F\33\13D\262\214\226\255"
.ascii "U\245U\255U\255U\2554\245U\255v\265\362\214mTF\23D\3\246\13"
.ascii "\206\23f\23\206\23\347\33\310\24i\35\10%J\35\211\34\202\11\0\0"
.ascii "\202\20(!!\10b\1\11\35\312\35j\35\252%\346\23\243\11B\1\1\1"
.ascii "!\1B\1\"\1\2\11\205!e!\3479\2461\2061\3079\2461\2461\2469\307A"
.ascii "e)d\31\"\1!\1b\11B\11\2\11c\11D\22'\34\212%i%\212\35\252\34"
.ascii "\243\11\0\0\244\20\347\20\1\0C\11\211$I\35\12%)%%\23\202\10"
.ascii " \0A\10\202\30\202\20\303\30\243\20\1\10a\10 \0\242\30\202\20"
.ascii "\242\20\303\20\242\20A\10\0\0 \10A\10\303\30\303\30\202\20"
.ascii "\202\20 \10 \0\"\1F\23\312$\351$\12%\11\34b\1 \0\302\10'\31!\0"
.ascii "\201\10d\22\243\12e\12\345\22\203\11\0\0\0\0\2479\216{\357\203"
.ascii "1\214\360\203jR\242\20\0\0\353b\357\203\20\204Q\204mk\347A"
.ascii " \0\242\20(J\360\203R\224\360\2031\214\350A@\0\201\0\243\11"
.ascii "e\12d\12\244\12$\22\240\0\0\0\202\10'! \0\0\10 \0@\0!\0a\0\2\0"
.ascii " \0\242\20\316s\33\347\276\367\337\377\134\347\23\235e)\202\20"
.ascii "\266\275\276\377\377\377\377\377\332\326Q\214`\0D!P\204"
.ascii "]\357\377\377\337\377\337\367\256s\0\0\0\0 \0@\0@\0@\0@\0\0\10"
.ascii "\0\0\204\30K)\305\10D\10\0\0 \10\1\20\0\0\"\20\242\20e)P\204"
.ascii "\134\347\377\377\377\377}\3574\235\2461a\20\367\305\337\377"
.ascii "\377\377\377\377\33\337Q\214\202\20D!q\214\235\367\377\377\377\377"
.ascii "\377\377r\214\242\20\242\20!\10\0\0\0\10\0\0\1\0d\20c\10"
.ascii "\6\31\27c\321:\354)B\0\0\0\0\0@\0\3469Q\224\24\245\232\326"
.ascii "\277\367\337\377\377\377}\367\24\245E!A\10\327\275\377\377\377\377"
.ascii "\377\377\373\336\20\204\0\0\344 0\204}\357\377\377\377\377"
.ascii "\377\377\232\336\223\214\216ke)\0\0 \0\0\0D\10\253)q:\24S"
.ascii "\277|\177|xc\307\10\0\0!\0\0\0Lk}\357\377\377\377\377\377\377"
.ascii "\377\377\377\377\236\3674\245\3479$!\367\275\377\377\377\377"
.ascii "\377\377\333\336\222\224\343\30e)\222\224}\357\377\377\377\377"
.ascii "\377\377\377\377\377\377\327\275\251R\0\0\0\0A\0\347\20"
.ascii "7c\177t\177|_t?t\334c1:j!\5\31!\0\13c\373\336\337\377\337\377"
.ascii "\377\377\377\377\377\377\337\377z\316q\214\317{\333\336\377\377"
.ascii "\377\377\377\377}\357\30\3060\204\222\224Y\316\337\377\377\377"
.ascii "\377\377\337\377\377\377\276\367\226\265iJ\0\0\347\30\314)"
.ascii "Q:\233c?t_t\37l\377c\37l\334c\364RI!\1\0\354b<\347\377\377"
.ascii "\377\377\377\377\377\377\337\377\377\377\276\367\333\336\272\326"
.ascii "\236\367\377\377\377\377\337\377\337\377}\357\232\326\333\336"
.ascii "]\357\276\367\377\377\377\377\337\377\377\377\377\377"
.ascii "\330\275)B\1\0\214)\366R\333c\37l\37l\37l_t?l_t\177|\232c\255)"
.ascii "\"\0jZy\316<\347\235\367\337\377\377\377\377\377\377\377\377\377"
.ascii "\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
.ascii "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
.ascii "\236\367\372\3365\245\7B \0\3151Zc\177|_l\37l?l\37l^t>l"
.ascii "\37lY[\3551!\0\302\30(B\14cU\255}\357\377\377\377\377\377\377"
.ascii "\337\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
.ascii "\377\377\377\377\377\377\377\377\377\377\377\377\276\367"
.ascii "\377\377U\255\10B\2479\200\20 \0\3141Y[\237|\177l?l?t?t?t_t"
.ascii "_t\231c\16""2B\0\0\0a\10\343\30\317{\333\336\236\367\235\367"
.ascii "\276\367\336\377\276\367}\357\276\367\236\367\236\367\276\367"
.ascii "\236\367\236\367\236\367\236\367\276\367\276\367\276\367\276\367"
.ascii "\377\377\357{!\10!\10\0\0b\0\3561X[^t\37l?l?l\37t\377k"
.ascii "?t_t\273csBk!\245\10\0\0\0\0\252R4\245\367\275\326\275\266\265"
.ascii "\266\265\327\275\266\265\326\275\266\265\326\275\326\275\327\275"
.ascii "\326\275\326\275\326\275\326\275\266\265\266\265\327\275"
.ascii "\326\275\353Z\0\0\2\0d\0k!uB\333c~|_t?l?l>l\37l_t\36l\376k"
.ascii "\335k\231c\20:\202\20\0\0\242\20D)E)\2051\2051\2051\205)\2051"
.ascii "e)e)\2051d)\2051e)e)\2051e)\2051e)\2451\2051\201\20\0\0\346\30"
.ascii "N:x[}[\36l>t\37t?l?l?l\37t?t\37l?l?l>t\27K\345\30c\10b\10"
.ascii "\202\10b\10\203\10\203\10\202\10\203\10\203\10\203\10\203\10"
.ascii "\203\10c\10c\10\203\10\203\10\203\10\203\10\203\10\202\10\203\10"
.ascii "\202\10b\10\204\10\214)\26S\36l\37l?t?l?l?l?l?l\37t?t?l?l"
.ascii "_t\177|7S\17:m)\214)\2141\215)\2151\2151\214)\215)\2151\2151"
.ascii "\2151\215)\215)\215)\2151\215)\2151\2151\215)\2151\2551\214)"
.ascii "\214)\213)\221B\232c_t?t?t?l?l?l?l"

